{
  "nodes": [
    {
      "id": "bronze_users",
      "data": {
        "label": "users",
        "layer": "bronze",
        "details": {
          "id": "bronze_users",
          "label": "users",
          "layer": "bronze",
          "type": "table",
          "project": "raw_project",
          "dataset": "raw_dataset",
          "path": "C:\\Users\\flavi\\Documents\\Proyectos\\SQLArchitect\\sql_examples\\bronze_users.sql",
          "dependencies": [
            "external_source.users_dump"
          ],
          "content": "-- bronze_users.sql\nCREATE OR REPLACE TABLE raw_project.raw_dataset.users AS\nSELECT \n    id,\n    name,\n    email,\n    created_at\nFROM external_source.users_dump\n"
        },
        "incomingCount": 0
      },
      "position": {
        "x": 0,
        "y": 0
      },
      "type": "custom"
    },
    {
      "id": "gold_user_stats",
      "data": {
        "label": "user_stats",
        "layer": "gold",
        "details": {
          "id": "gold_user_stats",
          "label": "user_stats",
          "layer": "gold",
          "type": "table",
          "project": "analytics_project",
          "dataset": "gold_dataset",
          "path": "C:\\Users\\flavi\\Documents\\Proyectos\\SQLArchitect\\sql_examples\\gold_user_stats.sql",
          "dependencies": [
            "analytics_project.silver_dataset.users_cleaned"
          ],
          "content": "-- gold_user_stats.sql\nCREATE OR REPLACE TABLE analytics_project.gold_dataset.user_stats AS\nSELECT \n    signup_date,\n    COUNT(id) as total_users\nFROM analytics_project.silver_dataset.users_cleaned\nGROUP BY signup_date\n"
        },
        "incomingCount": 1
      },
      "position": {
        "x": 0,
        "y": 0
      },
      "type": "custom"
    },
    {
      "id": "silver_users_cleaned",
      "data": {
        "label": "users_cleaned",
        "layer": "silver",
        "details": {
          "id": "silver_users_cleaned",
          "label": "users_cleaned",
          "layer": "silver",
          "type": "view",
          "project": "analytics_project",
          "dataset": "silver_dataset",
          "path": "C:\\Users\\flavi\\Documents\\Proyectos\\SQLArchitect\\sql_examples\\silver_users_cleaned.sql",
          "dependencies": [
            "raw_project.raw_dataset.users"
          ],
          "content": "-- silver_users_cleaned.sql\nCREATE OR REPLACE VIEW analytics_project.silver_dataset.users_cleaned AS\nSELECT \n    u.id,\n    u.name,\n    LOWER(u.email) as email,\n    CAST(u.created_at AS DATE) as signup_date\nFROM raw_project.raw_dataset.users u\nWHERE u.email IS NOT NULL # This dependency should be detected\n"
        },
        "incomingCount": 1
      },
      "position": {
        "x": 0,
        "y": 0
      },
      "type": "custom"
    }
  ],
  "edges": [
    {
      "id": "silver_users_cleaned-gold_user_stats",
      "source": "silver_users_cleaned",
      "target": "gold_user_stats",
      "animated": true,
      "style": {
        "stroke": "#b1b1b7"
      }
    },
    {
      "id": "bronze_users-silver_users_cleaned",
      "source": "bronze_users",
      "target": "silver_users_cleaned",
      "animated": true,
      "style": {
        "stroke": "#b1b1b7"
      }
    }
  ]
}